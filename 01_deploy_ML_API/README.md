# 머신러닝 API 배포하기

경기 중 실시간 점수 예측 등 예측값이 계쏙 바뀌는 경우에는 실시간 추론(real time inference)이 필요하다.
실시간 추론은 사용자의 요청에 따라 즉시 모델을 호출해 단일 예측값을 반환하는 방식이다.
바로 이럴 때, 모델을 API로 배포하는 것이 가장 효과적이다.

이번 프로젝트에서는 직접 머신러닝 모델을 만들고, 이를 API로 배포해 실시간 추론을 제공하는 방법을 소개한다.

이번 프로젝트에서 사용할 주요 용어는 다음과 같다:

1. 분류(Classification)
- 값이 어떤 범주에 속할지 예측하는 유형의 모델이다. 예를 들어, 분류 모델은 선수가 드래프트에 지명될지 여부를 예측할 수 있다. 이러한 작업을 수행하는 모델을 분류기라고 한다.

2. 의사결정나무(Decision Tree)
- 분류나 회귀 작업을 위해 재귀적인 트리 구조(Recursive Tree Structure)를 만들어 내는 머신러닝 알고리즘

3. 모델 평가(Evaluation)
- 모델의 예측 결과를 테스트 데이터와 비교해 과거 데이터를 얼마나 잘 예측하는지 확인하는 과정이다.

4. 그래디언트 부스팅(Gradient Boosting)
- 여러 개의 모델을 결합해 개별 모델보다 더 뛰어난 예측 성능을 내는 머신러닝 기법이다.

5. 회귀(Regression)
- 연속적인 숫자 값을 예측하는 유형의 모델이다. 예를 들어, 선수가 몇 점을 올릴지 예측하는 것이 여기에 해당한다. 이러한 작업을 수행하는 모델을 회귀 분석 모델이라고 한다.

6. 모델 학습(Train)
- 과거 데이터(학습 데이터)를 이용해 새로운 데이터에 대해 예측할 수 있는 모델을 만드는 과정이다.


이번 프로젝트에서 활용하는 주요 소프트웨어 목록

|소프트웨어 이름|목적|
|---|---|
|ONNX Runtime|다양한 프레임워크에서 개발된 모델을 실행할 수 있는 범용 실행 도구|
|scikit-learn|머신러닝 모델 학습을 위한 파이썬 기반 프레임워크|
|sklearn-onnx|scikit-learn모델을 ONNX 형식으로 변환해 주는 라이브러리|

---

### 머신러닝 모델 문서화

머신러닝 모델은 명시적으로 프로그래밍되는 방식이 아니기에 모델을 직접 훈련시킨 사람조차도 그 작동 원리를 완전히 이해하지 못하는 경우가 많다. 이처럼 모델이 어떻게 예측을 내리는지, 또는 왜 특정 결과를 도출했는지 개별적으로 해석하는 것은 쉽지 않다. 따라서 모델 제공자는 모델이 의도한 목적, 알려진 문제점, 한계 등을 설명하는 문서를 함께 제공하는 것이 보통이다. 최근에는 머신러닝 모델 및 관련 애플리케이션을 문서화하는 기법이 빠르게 진화하고 있다. 대표적인 문서화 방법에는 '모델 카드'와 '시스템 카드'가 있다.

1. 모델 카드
- 구글에서 제안한 문서화 방식으로, 머신러닝 모델의 동작 원리, 잠재적 위험, 편향성 등을 투명하게 공개하기 위한 목적을 가진다. [구글의 모델 카드 제안](https://modelcards.withgoogle.com/)에서 이 방법론의 자세한 설명과 다양한 예시를 확인할 수 있다.


2. 시스템 카드
- Meta에서 여러 모델로 구성된 전체 AI 시스템을 문서화하기 위해 제안한 개념이다. [Meta의 공식 설명](https://ai.meta.com/blog/system-cards-a-new-resource-for-understanding-how-ai-systems-work/)에 따르면, 시스템 카드는 단일 모델이 아니라 AI 시스템 전체를 총체적으로 바라보는 문서화 방식이라 할 수 있다.
